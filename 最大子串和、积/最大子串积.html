<pre id = 'a'></pre>
<div id = 'r'></div>
<button onclick='show()'>刷新</button>
<script type="text/javascript">
	// https://blog.csdn.net/puqutogether/article/details/41862163
	var ta = document.getElementById("a");
	var fr = document.getElementById("r");

	var n = 10;
	var ma = 10;
	var mi = -10;
	show();

	function show(){
		var a = randomA(n, ma, mi);
		var max = findMaxProduct(a);
		ta.innerHTML = "a:\t"+a.join('\t');
		fr.innerHTML = "max:\t"+max;
	}

	/**
	 * 生成一个长度是n，值在[min,max]范围内的整数数组。
	 */
	function randomA(n, max, min){
		var a = [];
		for(var i = 0; i < n; i++){
			a[i] = min + Math.floor(Math.random() * (max - min + 1));
		}
		return a;
	} 

	/**
	 * 求最大子串。
	 */
	function findMaxProduct(a){
		var max = a[0];
		var min = a[0];
		var maxProduct = a[0];
		var len = a.length;
		for(var k = 1; k < len; k++){
			max = Math.max(max*a[k], min*a[k], a[k]);
			min = Math.max(max*a[k], min*a[k], a[k]);
			maxProduct = Math.max(max, min);
		}
		return maxProduct;
	}
</script>